<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Veins: DemoBaseApplLayer.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Veins
   &#160;<span id="projectnumber">5.2</span>
   </div>
   <div id="projectbrief">The open source vehicular network simulation framework.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_demo_base_appl_layer_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DemoBaseApplLayer.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_demo_base_appl_layer_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Copyright (C) 2011 David Eckhoff &lt;eckhoff@cs.fau.de&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// Documentation for these modules is at http://veins.car2x.org/</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// SPDX-License-Identifier: GPL-2.0-or-later</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// the Free Software Foundation; either version 2 of the License, or</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// GNU General Public License for more details.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// along with this program; if not, write to the Free Software</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_demo_base_appl_layer_8h.html">veins/modules/application/ieee80211p/DemoBaseApplLayer.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceveins.html">veins</a>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#acca47f0d4a756e78ca29d2e4271af396">   27</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#acca47f0d4a756e78ca29d2e4271af396">DemoBaseApplLayer::initialize</a>(<span class="keywordtype">int</span> stage)</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="classveins_1_1_base_appl_layer.html#a709299823ec0e1a8055407ceb765f7f8">BaseApplLayer::initialize</a>(stage);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span> (stage == 0) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="comment">// initialize pointers to other modules</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classveins_1_1_find_module.html">FindModule&lt;TraCIMobility*&gt;::findSubModule</a>(getParentModule())) {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aa5007dab9b355e3e4053fb9f6a59a9c8">mobility</a> = <a class="code" href="classveins_1_1_tra_c_i_mobility_access.html">TraCIMobilityAccess</a>().<a class="code" href="classveins_1_1_tra_c_i_mobility_access.html#a3a9a7cb34fa5b8bd351a61bfe783dc52">get</a>(getParentModule());</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a854e4fec077209a3cc63115f70584c55">traci</a> = <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aa5007dab9b355e3e4053fb9f6a59a9c8">mobility</a>-&gt;<a class="code" href="classveins_1_1_tra_c_i_mobility.html#a65e65af2ffd59fdddc841ab7c5a383c7">getCommandInterface</a>();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a63775a58d8e863d0ec87f7993b313d73">traciVehicle</a> = <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aa5007dab9b355e3e4053fb9f6a59a9c8">mobility</a>-&gt;<a class="code" href="classveins_1_1_tra_c_i_mobility.html#a6eab92e98c45232e1c0d0b32aec2f127">getVehicleCommandInterface</a>();</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a854e4fec077209a3cc63115f70584c55">traci</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aa5007dab9b355e3e4053fb9f6a59a9c8">mobility</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a63775a58d8e863d0ec87f7993b313d73">traciVehicle</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a4f526c86ab3d432e620b5de9927274b8">annotations</a> = <a class="code" href="classveins_1_1_annotation_manager_access.html">AnnotationManagerAccess</a>().<a class="code" href="classveins_1_1_annotation_manager_access.html#a078a458514be3927ea589e843a9bef72">getIfExists</a>();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        ASSERT(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a4f526c86ab3d432e620b5de9927274b8">annotations</a>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a1b882676e94dfddd95326cbe9df0f380">mac</a> = <a class="code" href="classveins_1_1_find_module.html#a56591278058cab17db4d776cfde387a5">FindModule&lt;DemoBaseApplLayerToMac1609_4Interface*&gt;::findSubModule</a>(getParentModule());</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        ASSERT(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a1b882676e94dfddd95326cbe9df0f380">mac</a>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="comment">// read parameters</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <a class="code" href="classveins_1_1_base_appl_layer.html#a804ddd953b874540a765e18f8e38f5a8">headerLength</a> = par(<span class="stringliteral">&quot;headerLength&quot;</span>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a7866c2e197f24c3f7e81decd5261d28b">sendBeacons</a> = par(<span class="stringliteral">&quot;sendBeacons&quot;</span>).boolValue();</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#afb4ada150c65919b1770abdef7985419">beaconLengthBits</a> = par(<span class="stringliteral">&quot;beaconLengthBits&quot;</span>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a6d61f40c578e82777003c41fe23a3e49">beaconUserPriority</a> = par(<span class="stringliteral">&quot;beaconUserPriority&quot;</span>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a2815c39ba35f6c42b06128ddbfc8f32a">beaconInterval</a> = par(<span class="stringliteral">&quot;beaconInterval&quot;</span>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a9edf00f009a5e15f1b74d9f480f7582e">dataLengthBits</a> = par(<span class="stringliteral">&quot;dataLengthBits&quot;</span>);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#adaae310c2a0cbed58859b93251f64646">dataOnSch</a> = par(<span class="stringliteral">&quot;dataOnSch&quot;</span>).boolValue();</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a6ace8c13e49e5d21d03e0c19aa19c607">dataUserPriority</a> = par(<span class="stringliteral">&quot;dataUserPriority&quot;</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a0b9d09e2002ba0576a5b89ec8b03895a">wsaInterval</a> = par(<span class="stringliteral">&quot;wsaInterval&quot;</span>).doubleValue();</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a82f0f97fea0cea96f3a4a176c1d6ec32">currentOfferedServiceId</a> = -1;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a5947c4a8f447af7aff327cde07d64308">isParked</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="classveins_1_1_base_module.html#a1d2d2af49918dfb9ae036b1d086b123a">findHost</a>()-&gt;subscribe(<a class="code" href="classveins_1_1_base_mobility.html#a830d988623baf18a40b7af3d0ad19b64">BaseMobility::mobilityStateChangedSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <a class="code" href="classveins_1_1_base_module.html#a1d2d2af49918dfb9ae036b1d086b123a">findHost</a>()-&gt;subscribe(<a class="code" href="classveins_1_1_tra_c_i_mobility.html#afb8947869442c29e538fb9111df5eb3c">TraCIMobility::parkingStateChangedSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#af4cb7a5451ffc4fbf47095dd228d3527">sendBeaconEvt</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;beacon evt&quot;</span>, <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ab9efce899a1de4e1ca3c9f6a4c41516fa5f9b601653c32eeb69aed9c18ed722d1">SEND_BEACON_EVT</a>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ad0eff098a3ba5b59267839a8e59ce8c3">sendWSAEvt</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;wsa evt&quot;</span>, <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ab9efce899a1de4e1ca3c9f6a4c41516faf4904fd3be5458af22d3bb82df2e04e8">SEND_WSA_EVT</a>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a602336c04c91a87bd2d1ad5edafd5265">generatedBSMs</a> = 0;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aafaceefbff2a06f20babee4c0ff9abbc">generatedWSAs</a> = 0;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a08a41ca3d9badae8c9379ae222c271a8">generatedWSMs</a> = 0;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a0b5911c89f24182e15f6d4401c264fd3">receivedBSMs</a> = 0;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#afadc226a1018a9e973207851df1e4754">receivedWSAs</a> = 0;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a0365da1bc38b06f8813e943711a8a0b1">receivedWSMs</a> = 0;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stage == 1) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="comment">// store MAC address for quick access</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ae6bb59969ae9756d6efaf494c33a201e">myId</a> = <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a1b882676e94dfddd95326cbe9df0f380">mac</a>-&gt;<a class="code" href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#a778c4d8707cdb821a2f388b786493905">getMACAddress</a>();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="comment">// simulate asynchronous channel access</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classveins_1_1_demo_base_appl_layer.html#adaae310c2a0cbed58859b93251f64646">dataOnSch</a> == <span class="keyword">true</span> &amp;&amp; !<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a1b882676e94dfddd95326cbe9df0f380">mac</a>-&gt;<a class="code" href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#a3f9d9623e60f56b3c0c15669b4df53a6">isChannelSwitchingActive</a>()) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <a class="code" href="classveins_1_1_demo_base_appl_layer.html#adaae310c2a0cbed58859b93251f64646">dataOnSch</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            EV_ERROR &lt;&lt; <span class="stringliteral">&quot;App wants to send data on SCH but MAC doesn&#39;t use any SCH. Sending all data on CCH&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        simtime_t firstBeacon = simTime();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">if</span> (par(<span class="stringliteral">&quot;avoidBeaconSynchronization&quot;</span>).boolValue() == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            simtime_t randomOffset = dblrand() * <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a2815c39ba35f6c42b06128ddbfc8f32a">beaconInterval</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            firstBeacon = simTime() + randomOffset;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a1b882676e94dfddd95326cbe9df0f380">mac</a>-&gt;<a class="code" href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#a3f9d9623e60f56b3c0c15669b4df53a6">isChannelSwitchingActive</a>() == <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a2815c39ba35f6c42b06128ddbfc8f32a">beaconInterval</a>.raw() % (<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a1b882676e94dfddd95326cbe9df0f380">mac</a>-&gt;<a class="code" href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#aac07f54c6e7d52a40b16b560638f2ce8">getSwitchingInterval</a>().raw() * 2)) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                    EV_ERROR &lt;&lt; <span class="stringliteral">&quot;The beacon interval (&quot;</span> &lt;&lt; <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a2815c39ba35f6c42b06128ddbfc8f32a">beaconInterval</a> &lt;&lt; <span class="stringliteral">&quot;) is smaller than or not a multiple of  one synchronization interval (&quot;</span> &lt;&lt; 2 * <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a1b882676e94dfddd95326cbe9df0f380">mac</a>-&gt;<a class="code" href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#aac07f54c6e7d52a40b16b560638f2ce8">getSwitchingInterval</a>() &lt;&lt; <span class="stringliteral">&quot;). This means that beacons are generated during SCH intervals&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                firstBeacon = <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a59d83e257a9f18f9af061d2e3bbe0440">computeAsynchronousSendingTime</a>(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a2815c39ba35f6c42b06128ddbfc8f32a">beaconInterval</a>, <a class="code" href="namespaceveins.html#a04ab2e3513c72a990fe9f96ae42d9e9aafc5364bf9dbfa34954526becad136d4b">ChannelType::control</a>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a7866c2e197f24c3f7e81decd5261d28b">sendBeacons</a>) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                scheduleAt(firstBeacon, <a class="code" href="classveins_1_1_demo_base_appl_layer.html#af4cb7a5451ffc4fbf47095dd228d3527">sendBeaconEvt</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#a59d83e257a9f18f9af061d2e3bbe0440">  112</a></span>&#160;simtime_t <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a59d83e257a9f18f9af061d2e3bbe0440">DemoBaseApplLayer::computeAsynchronousSendingTime</a>(simtime_t interval, <a class="code" href="namespaceveins.html#a04ab2e3513c72a990fe9f96ae42d9e9a">ChannelType</a> chan)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">     * avoid that periodic messages for one channel type are scheduled in the other channel interval</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">     * when alternate access is enabled in the MAC</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    simtime_t randomOffset = dblrand() * interval;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    simtime_t firstEvent;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    simtime_t switchingInterval = <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a1b882676e94dfddd95326cbe9df0f380">mac</a>-&gt;<a class="code" href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#aac07f54c6e7d52a40b16b560638f2ce8">getSwitchingInterval</a>(); <span class="comment">// usually 0.050s</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    simtime_t nextCCH;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">     * start event earliest in next CCH (or SCH) interval. For alignment, first find the next CCH interval</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">     * To find out next CCH, go back to start of current interval and add two or one intervals</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">     * depending on type of current interval</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a1b882676e94dfddd95326cbe9df0f380">mac</a>-&gt;<a class="code" href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#a43aee47e5687617af50e5919c26542a9">isCurrentChannelCCH</a>()) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        nextCCH = simTime() - SimTime().setRaw(simTime().raw() % switchingInterval.raw()) + switchingInterval * 2;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        nextCCH = simTime() - SimTime().setRaw(simTime().raw() % switchingInterval.raw()) + switchingInterval;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    firstEvent = nextCCH + randomOffset;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// check if firstEvent lies within the correct interval and, if not, move to previous interval</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (firstEvent.raw() % (2 * switchingInterval.raw()) &gt; switchingInterval.raw()) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="comment">// firstEvent is within a sch interval</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">if</span> (chan == <a class="code" href="namespaceveins.html#a04ab2e3513c72a990fe9f96ae42d9e9aafc5364bf9dbfa34954526becad136d4b">ChannelType::control</a>) firstEvent -= switchingInterval;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="comment">// firstEvent is within a cch interval, so adjust for SCH messages</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">if</span> (chan == <a class="code" href="namespaceveins.html#a04ab2e3513c72a990fe9f96ae42d9e9aaaaabf0d39951f3e6c3e8a7911df524c2">ChannelType::service</a>) firstEvent += switchingInterval;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">return</span> firstEvent;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#aecfff5ce1d91dcdb319272042375e6b2">  154</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aecfff5ce1d91dcdb319272042375e6b2">DemoBaseApplLayer::populateWSM</a>(BaseFrame1609_4* wsm, <a class="code" href="classveins_1_1_l_address.html#a550dbf0446d9afe2fe5797c01f9a4049">LAddress::L2Type</a> rcvId, <span class="keywordtype">int</span> serial)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;{</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    wsm-&gt;setRecipientAddress(rcvId);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    wsm-&gt;setBitLength(<a class="code" href="classveins_1_1_base_appl_layer.html#a804ddd953b874540a765e18f8e38f5a8">headerLength</a>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (DemoSafetyMessage* bsm = <span class="keyword">dynamic_cast&lt;</span>DemoSafetyMessage*<span class="keyword">&gt;</span>(wsm)) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        bsm-&gt;setSenderPos(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a2fa1ce104879707982364a13525dd20c">curPosition</a>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        bsm-&gt;setSenderSpeed(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a18895b664bf4f72dcc3a08995b8d0881">curSpeed</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        bsm-&gt;setPsid(-1);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        bsm-&gt;setChannelNumber(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceveins.html#a241b63592930794cb29608c80e737b1ca64f5e67ed2b90b1bb9084c7e755bbd7b">Channel::cch</a>));</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        bsm-&gt;addBitLength(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#afb4ada150c65919b1770abdef7985419">beaconLengthBits</a>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        wsm-&gt;setUserPriority(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a6d61f40c578e82777003c41fe23a3e49">beaconUserPriority</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DemoServiceAdvertisment* wsa = <span class="keyword">dynamic_cast&lt;</span>DemoServiceAdvertisment*<span class="keyword">&gt;</span>(wsm)) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        wsa-&gt;setChannelNumber(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceveins.html#a241b63592930794cb29608c80e737b1ca64f5e67ed2b90b1bb9084c7e755bbd7b">Channel::cch</a>));</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        wsa-&gt;setTargetChannel(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a20f692e176ef4efbe3f6cc396cd48618">currentServiceChannel</a>));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        wsa-&gt;setPsid(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a82f0f97fea0cea96f3a4a176c1d6ec32">currentOfferedServiceId</a>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        wsa-&gt;setServiceDescription(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a784ecec0121113f39511d5f83a5287d4">currentServiceDescription</a>.c_str());</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classveins_1_1_demo_base_appl_layer.html#adaae310c2a0cbed58859b93251f64646">dataOnSch</a>)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            wsm-&gt;setChannelNumber(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceveins.html#a241b63592930794cb29608c80e737b1cabe2b832062b96b611d69ca99cb257938">Channel::sch1</a>)); <span class="comment">// will be rewritten at Mac1609_4 to actual Service Channel. This is just so no controlInfo is needed</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            wsm-&gt;setChannelNumber(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespaceveins.html#a241b63592930794cb29608c80e737b1ca64f5e67ed2b90b1bb9084c7e755bbd7b">Channel::cch</a>));</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        wsm-&gt;addBitLength(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a9edf00f009a5e15f1b74d9f480f7582e">dataLengthBits</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        wsm-&gt;setUserPriority(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a6ace8c13e49e5d21d03e0c19aa19c607">dataUserPriority</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#acf0b4977efacc25c723cc44a938ee0f9">  183</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#acf0b4977efacc25c723cc44a938ee0f9">DemoBaseApplLayer::receiveSignal</a>(cComponent* source, simsignal_t signalID, cObject* obj, cObject* details)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    Enter_Method_Silent();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (signalID == <a class="code" href="classveins_1_1_base_mobility.html#a830d988623baf18a40b7af3d0ad19b64">BaseMobility::mobilityStateChangedSignal</a>) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a384db2de57cd12b3b5bab48f255bcea7">handlePositionUpdate</a>(obj);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (signalID == <a class="code" href="classveins_1_1_tra_c_i_mobility.html#afb8947869442c29e538fb9111df5eb3c">TraCIMobility::parkingStateChangedSignal</a>) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ab5cc9db685df1f2f180359af47a3140c">handleParkingUpdate</a>(obj);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#a384db2de57cd12b3b5bab48f255bcea7">  194</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a384db2de57cd12b3b5bab48f255bcea7">DemoBaseApplLayer::handlePositionUpdate</a>(cObject* obj)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="namespaceveins.html#aab6dc29dc16d0393e914dc30ddbbb5a7">ChannelMobilityPtrType</a> <span class="keyword">const</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aa5007dab9b355e3e4053fb9f6a59a9c8">mobility</a> = check_and_cast&lt;ChannelMobilityPtrType&gt;(obj);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a2fa1ce104879707982364a13525dd20c">curPosition</a> = <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aa5007dab9b355e3e4053fb9f6a59a9c8">mobility</a>-&gt;<a class="code" href="classveins_1_1_base_mobility.html#abd802d0e5d919085a5422b99cd7c377d">getPositionAt</a>(simTime());</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a18895b664bf4f72dcc3a08995b8d0881">curSpeed</a> = <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aa5007dab9b355e3e4053fb9f6a59a9c8">mobility</a>-&gt;<a class="code" href="classveins_1_1_tra_c_i_mobility.html#ad6be6b3f578a4402f4f7dfefe0b89d31">getCurrentSpeed</a>();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#ab5cc9db685df1f2f180359af47a3140c">  201</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ab5cc9db685df1f2f180359af47a3140c">DemoBaseApplLayer::handleParkingUpdate</a>(cObject* obj)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a5947c4a8f447af7aff327cde07d64308">isParked</a> = <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aa5007dab9b355e3e4053fb9f6a59a9c8">mobility</a>-&gt;<a class="code" href="classveins_1_1_tra_c_i_mobility.html#aedb0d434725c9a1f5363a1f2409f6d2a">getParkingState</a>();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#a0457eac366e27a0cd301e764ee955504">  206</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a0457eac366e27a0cd301e764ee955504">DemoBaseApplLayer::handleLowerMsg</a>(cMessage* msg)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    BaseFrame1609_4* wsm = <span class="keyword">dynamic_cast&lt;</span>BaseFrame1609_4*<span class="keyword">&gt;</span>(msg);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    ASSERT(wsm);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (DemoSafetyMessage* bsm = <span class="keyword">dynamic_cast&lt;</span>DemoSafetyMessage*<span class="keyword">&gt;</span>(wsm)) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a0b5911c89f24182e15f6d4401c264fd3">receivedBSMs</a>++;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a0c777a569144188afa113afd62daa043">onBSM</a>(bsm);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DemoServiceAdvertisment* wsa = <span class="keyword">dynamic_cast&lt;</span>DemoServiceAdvertisment*<span class="keyword">&gt;</span>(wsm)) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#afadc226a1018a9e973207851df1e4754">receivedWSAs</a>++;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a4288b81a3cdf4c5dad6b1abd99b6e2c6">onWSA</a>(wsa);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a0365da1bc38b06f8813e943711a8a0b1">receivedWSMs</a>++;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a1b499d1dc3483e09a9e989a9488c0b59">onWSM</a>(wsm);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">delete</span> (msg);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#aec3c66232b9ca518c76021c8f2f1dc40">  228</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aec3c66232b9ca518c76021c8f2f1dc40">DemoBaseApplLayer::handleSelfMsg</a>(cMessage* msg)</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">switch</span> (msg-&gt;getKind()) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ab9efce899a1de4e1ca3c9f6a4c41516fa5f9b601653c32eeb69aed9c18ed722d1">SEND_BEACON_EVT</a>: {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        DemoSafetyMessage* bsm = <span class="keyword">new</span> DemoSafetyMessage();</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aecfff5ce1d91dcdb319272042375e6b2">populateWSM</a>(bsm);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ac473178d13013063c13943d343a672f4">sendDown</a>(bsm);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        scheduleAt(simTime() + <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a2815c39ba35f6c42b06128ddbfc8f32a">beaconInterval</a>, <a class="code" href="classveins_1_1_demo_base_appl_layer.html#af4cb7a5451ffc4fbf47095dd228d3527">sendBeaconEvt</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ab9efce899a1de4e1ca3c9f6a4c41516faf4904fd3be5458af22d3bb82df2e04e8">SEND_WSA_EVT</a>: {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        DemoServiceAdvertisment* wsa = <span class="keyword">new</span> DemoServiceAdvertisment();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aecfff5ce1d91dcdb319272042375e6b2">populateWSM</a>(wsa);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ac473178d13013063c13943d343a672f4">sendDown</a>(wsa);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        scheduleAt(simTime() + <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a0b9d09e2002ba0576a5b89ec8b03895a">wsaInterval</a>, <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ad0eff098a3ba5b59267839a8e59ce8c3">sendWSAEvt</a>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">if</span> (msg) EV_WARN &lt;&lt; <span class="stringliteral">&quot;APP: Error: Got Self Message of unknown kind! Name: &quot;</span> &lt;&lt; msg-&gt;getName() &lt;&lt; endl;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#af3ebab1d965f23077810d112a47cae98">  252</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#af3ebab1d965f23077810d112a47cae98">DemoBaseApplLayer::finish</a>()</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;{</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    recordScalar(<span class="stringliteral">&quot;generatedWSMs&quot;</span>, <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a08a41ca3d9badae8c9379ae222c271a8">generatedWSMs</a>);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    recordScalar(<span class="stringliteral">&quot;receivedWSMs&quot;</span>, <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a0365da1bc38b06f8813e943711a8a0b1">receivedWSMs</a>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    recordScalar(<span class="stringliteral">&quot;generatedBSMs&quot;</span>, <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a602336c04c91a87bd2d1ad5edafd5265">generatedBSMs</a>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    recordScalar(<span class="stringliteral">&quot;receivedBSMs&quot;</span>, <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a0b5911c89f24182e15f6d4401c264fd3">receivedBSMs</a>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    recordScalar(<span class="stringliteral">&quot;generatedWSAs&quot;</span>, <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aafaceefbff2a06f20babee4c0ff9abbc">generatedWSAs</a>);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    recordScalar(<span class="stringliteral">&quot;receivedWSAs&quot;</span>, <a class="code" href="classveins_1_1_demo_base_appl_layer.html#afadc226a1018a9e973207851df1e4754">receivedWSAs</a>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#a24a3ca57d2273f653f1070c317be1df8">  264</a></span>&#160;<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a24a3ca57d2273f653f1070c317be1df8">DemoBaseApplLayer::~DemoBaseApplLayer</a>()</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    cancelAndDelete(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#af4cb7a5451ffc4fbf47095dd228d3527">sendBeaconEvt</a>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    cancelAndDelete(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#ad0eff098a3ba5b59267839a8e59ce8c3">sendWSAEvt</a>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="classveins_1_1_base_module.html#a1d2d2af49918dfb9ae036b1d086b123a">findHost</a>()-&gt;unsubscribe(<a class="code" href="classveins_1_1_base_mobility.html#a830d988623baf18a40b7af3d0ad19b64">BaseMobility::mobilityStateChangedSignal</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#a950278bac8ae9a57bbf8d052f3d72740">  271</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a950278bac8ae9a57bbf8d052f3d72740">DemoBaseApplLayer::startService</a>(<a class="code" href="namespaceveins.html#a241b63592930794cb29608c80e737b1c">Channel</a> channel, <span class="keywordtype">int</span> serviceId, std::string serviceDescription)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classveins_1_1_demo_base_appl_layer.html#ad0eff098a3ba5b59267839a8e59ce8c3">sendWSAEvt</a>-&gt;isScheduled()) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Starting service although another service was already started&quot;</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a1b882676e94dfddd95326cbe9df0f380">mac</a>-&gt;<a class="code" href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#a73bf2fa8eced9dc5a97ec5566f29f6f6">changeServiceChannel</a>(channel);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a82f0f97fea0cea96f3a4a176c1d6ec32">currentOfferedServiceId</a> = serviceId;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a20f692e176ef4efbe3f6cc396cd48618">currentServiceChannel</a> = channel;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a784ecec0121113f39511d5f83a5287d4">currentServiceDescription</a> = serviceDescription;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    simtime_t wsaTime = <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a59d83e257a9f18f9af061d2e3bbe0440">computeAsynchronousSendingTime</a>(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#a0b9d09e2002ba0576a5b89ec8b03895a">wsaInterval</a>, <a class="code" href="namespaceveins.html#a04ab2e3513c72a990fe9f96ae42d9e9aafc5364bf9dbfa34954526becad136d4b">ChannelType::control</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    scheduleAt(wsaTime, <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ad0eff098a3ba5b59267839a8e59ce8c3">sendWSAEvt</a>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#ae87d3a13dfd916a8abcc7b269ce0fbbe">  286</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ae87d3a13dfd916a8abcc7b269ce0fbbe">DemoBaseApplLayer::stopService</a>()</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;{</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    cancelEvent(<a class="code" href="classveins_1_1_demo_base_appl_layer.html#ad0eff098a3ba5b59267839a8e59ce8c3">sendWSAEvt</a>);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a82f0f97fea0cea96f3a4a176c1d6ec32">currentOfferedServiceId</a> = -1;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#ac473178d13013063c13943d343a672f4">  292</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ac473178d13013063c13943d343a672f4">DemoBaseApplLayer::sendDown</a>(cMessage* msg)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;{</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a92eee52f9f934fa6118dbad5422f4269">checkAndTrackPacket</a>(msg);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="classveins_1_1_base_layer.html#a1873d6e3fc6d92cf8482b39f1c5ac6c8">BaseApplLayer::sendDown</a>(msg);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#ac649666b5e8cb94740dd8a4588776e27">  298</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#ac649666b5e8cb94740dd8a4588776e27">DemoBaseApplLayer::sendDelayedDown</a>(cMessage* msg, simtime_t delay)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;{</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a92eee52f9f934fa6118dbad5422f4269">checkAndTrackPacket</a>(msg);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="classveins_1_1_base_appl_layer.html#a08d91ffcf2598556db4dd3ba845e4979">BaseApplLayer::sendDelayedDown</a>(msg, delay);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="classveins_1_1_demo_base_appl_layer.html#a92eee52f9f934fa6118dbad5422f4269">  304</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a92eee52f9f934fa6118dbad5422f4269">DemoBaseApplLayer::checkAndTrackPacket</a>(cMessage* msg)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">dynamic_cast&lt;</span>DemoSafetyMessage*<span class="keyword">&gt;</span>(msg)) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        EV_TRACE &lt;&lt; <span class="stringliteral">&quot;sending down a BSM&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a602336c04c91a87bd2d1ad5edafd5265">generatedBSMs</a>++;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">dynamic_cast&lt;</span>DemoServiceAdvertisment*<span class="keyword">&gt;</span>(msg)) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        EV_TRACE &lt;&lt; <span class="stringliteral">&quot;sending down a WSA&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#aafaceefbff2a06f20babee4c0ff9abbc">generatedWSAs</a>++;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">dynamic_cast&lt;</span>BaseFrame1609_4*<span class="keyword">&gt;</span>(msg)) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        EV_TRACE &lt;&lt; <span class="stringliteral">&quot;sending down a wsm&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <a class="code" href="classveins_1_1_demo_base_appl_layer.html#a08a41ca3d9badae8c9379ae222c271a8">generatedWSMs</a>++;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="ttc" id="a_demo_base_appl_layer_8h_html"><div class="ttname"><a href="_demo_base_appl_layer_8h.html">DemoBaseApplLayer.h</a></div></div>
<div class="ttc" id="aclassveins_1_1_annotation_manager_access_html"><div class="ttname"><a href="classveins_1_1_annotation_manager_access.html">veins::AnnotationManagerAccess</a></div><div class="ttdef"><b>Definition:</b> <a href="_annotation_manager_8h_source.html#l00177">AnnotationManager.h:177</a></div></div>
<div class="ttc" id="aclassveins_1_1_annotation_manager_access_html_a078a458514be3927ea589e843a9bef72"><div class="ttname"><a href="classveins_1_1_annotation_manager_access.html#a078a458514be3927ea589e843a9bef72">veins::AnnotationManagerAccess::getIfExists</a></div><div class="ttdeci">AnnotationManager * getIfExists()</div><div class="ttdef"><b>Definition:</b> <a href="_annotation_manager_8h_source.html#l00179">AnnotationManager.h:179</a></div></div>
<div class="ttc" id="aclassveins_1_1_base_appl_layer_html_a08d91ffcf2598556db4dd3ba845e4979"><div class="ttname"><a href="classveins_1_1_base_appl_layer.html#a08d91ffcf2598556db4dd3ba845e4979">veins::BaseApplLayer::sendDelayedDown</a></div><div class="ttdeci">void sendDelayedDown(cMessage *, simtime_t_cref)</div><div class="ttdoc">Sends a message delayed to the lower layer.</div><div class="ttdef"><b>Definition:</b> <a href="_base_appl_layer_8cc_source.html#l00051">BaseApplLayer.cc:51</a></div></div>
<div class="ttc" id="aclassveins_1_1_base_appl_layer_html_a709299823ec0e1a8055407ceb765f7f8"><div class="ttname"><a href="classveins_1_1_base_appl_layer.html#a709299823ec0e1a8055407ceb765f7f8">veins::BaseApplLayer::initialize</a></div><div class="ttdeci">void initialize(int) override</div><div class="ttdoc">Initialization of the module and some variables.</div><div class="ttdef"><b>Definition:</b> <a href="_base_appl_layer_8cc_source.html#l00040">BaseApplLayer.cc:40</a></div></div>
<div class="ttc" id="aclassveins_1_1_base_appl_layer_html_a804ddd953b874540a765e18f8e38f5a8"><div class="ttname"><a href="classveins_1_1_base_appl_layer.html#a804ddd953b874540a765e18f8e38f5a8">veins::BaseApplLayer::headerLength</a></div><div class="ttdeci">int headerLength</div><div class="ttdoc">Length of the ApplPkt header.</div><div class="ttdef"><b>Definition:</b> <a href="_base_appl_layer_8h_source.html#l00068">BaseApplLayer.h:68</a></div></div>
<div class="ttc" id="aclassveins_1_1_base_layer_html_a1873d6e3fc6d92cf8482b39f1c5ac6c8"><div class="ttname"><a href="classveins_1_1_base_layer.html#a1873d6e3fc6d92cf8482b39f1c5ac6c8">veins::BaseLayer::sendDown</a></div><div class="ttdeci">void sendDown(cMessage *msg)</div><div class="ttdoc">Sends a message to the lower layer.</div><div class="ttdef"><b>Definition:</b> <a href="_base_layer_8cc_source.html#l00115">BaseLayer.cc:115</a></div></div>
<div class="ttc" id="aclassveins_1_1_base_mobility_html_a830d988623baf18a40b7af3d0ad19b64"><div class="ttname"><a href="classveins_1_1_base_mobility.html#a830d988623baf18a40b7af3d0ad19b64">veins::BaseMobility::mobilityStateChangedSignal</a></div><div class="ttdeci">static const simsignal_t mobilityStateChangedSignal</div><div class="ttdoc">Store the category of HostMove.</div><div class="ttdef"><b>Definition:</b> <a href="_base_mobility_8h_source.html#l00109">BaseMobility.h:109</a></div></div>
<div class="ttc" id="aclassveins_1_1_base_mobility_html_abd802d0e5d919085a5422b99cd7c377d"><div class="ttname"><a href="classveins_1_1_base_mobility.html#abd802d0e5d919085a5422b99cd7c377d">veins::BaseMobility::getPositionAt</a></div><div class="ttdeci">virtual Coord getPositionAt(simtime_t_cref stWhen) const</div><div class="ttdoc">Returns the current position at the given simulation time.</div><div class="ttdef"><b>Definition:</b> <a href="_base_mobility_8h_source.html#l00175">BaseMobility.h:175</a></div></div>
<div class="ttc" id="aclassveins_1_1_base_module_html_a1d2d2af49918dfb9ae036b1d086b123a"><div class="ttname"><a href="classveins_1_1_base_module.html#a1d2d2af49918dfb9ae036b1d086b123a">veins::BaseModule::findHost</a></div><div class="ttdeci">cModule *const findHost(void)</div><div class="ttdoc">Function to get a pointer to the host module.</div><div class="ttdef"><b>Definition:</b> <a href="_base_module_8cc_source.html#l00090">BaseModule.cc:90</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a0365da1bc38b06f8813e943711a8a0b1"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a0365da1bc38b06f8813e943711a8a0b1">veins::DemoBaseApplLayer::receivedWSMs</a></div><div class="ttdeci">uint32_t receivedWSMs</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00176">DemoBaseApplLayer.h:176</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a0457eac366e27a0cd301e764ee955504"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a0457eac366e27a0cd301e764ee955504">veins::DemoBaseApplLayer::handleLowerMsg</a></div><div class="ttdeci">void handleLowerMsg(cMessage *msg) override</div><div class="ttdoc">handle messages from below and calls the onWSM, onBSM, and onWSA functions accordingly</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00206">DemoBaseApplLayer.cc:206</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a08a41ca3d9badae8c9379ae222c271a8"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a08a41ca3d9badae8c9379ae222c271a8">veins::DemoBaseApplLayer::generatedWSMs</a></div><div class="ttdeci">uint32_t generatedWSMs</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00173">DemoBaseApplLayer.h:173</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a0b5911c89f24182e15f6d4401c264fd3"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a0b5911c89f24182e15f6d4401c264fd3">veins::DemoBaseApplLayer::receivedBSMs</a></div><div class="ttdeci">uint32_t receivedBSMs</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00178">DemoBaseApplLayer.h:178</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a0b9d09e2002ba0576a5b89ec8b03895a"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a0b9d09e2002ba0576a5b89ec8b03895a">veins::DemoBaseApplLayer::wsaInterval</a></div><div class="ttdeci">simtime_t wsaInterval</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00164">DemoBaseApplLayer.h:164</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a0c777a569144188afa113afd62daa043"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a0c777a569144188afa113afd62daa043">veins::DemoBaseApplLayer::onBSM</a></div><div class="ttdeci">virtual void onBSM(DemoSafetyMessage *bsm)</div><div class="ttdoc">this function is called upon receiving a DemoSafetyMessage, also referred to as a beacon</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00086">DemoBaseApplLayer.h:86</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a18895b664bf4f72dcc3a08995b8d0881"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a18895b664bf4f72dcc3a08995b8d0881">veins::DemoBaseApplLayer::curSpeed</a></div><div class="ttdeci">Coord curSpeed</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00168">DemoBaseApplLayer.h:168</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a1b499d1dc3483e09a9e989a9488c0b59"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a1b499d1dc3483e09a9e989a9488c0b59">veins::DemoBaseApplLayer::onWSM</a></div><div class="ttdeci">virtual void onWSM(BaseFrame1609_4 *wsm)</div><div class="ttdoc">this function is called upon receiving a BaseFrame1609_4</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00083">DemoBaseApplLayer.h:83</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a1b882676e94dfddd95326cbe9df0f380"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a1b882676e94dfddd95326cbe9df0f380">veins::DemoBaseApplLayer::mac</a></div><div class="ttdeci">DemoBaseApplLayerToMac1609_4Interface * mac</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00144">DemoBaseApplLayer.h:144</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a20f692e176ef4efbe3f6cc396cd48618"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a20f692e176ef4efbe3f6cc396cd48618">veins::DemoBaseApplLayer::currentServiceChannel</a></div><div class="ttdeci">Channel currentServiceChannel</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00163">DemoBaseApplLayer.h:163</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a24a3ca57d2273f653f1070c317be1df8"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a24a3ca57d2273f653f1070c317be1df8">veins::DemoBaseApplLayer::~DemoBaseApplLayer</a></div><div class="ttdeci">~DemoBaseApplLayer() override</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00264">DemoBaseApplLayer.cc:264</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a2815c39ba35f6c42b06128ddbfc8f32a"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a2815c39ba35f6c42b06128ddbfc8f32a">veins::DemoBaseApplLayer::beaconInterval</a></div><div class="ttdeci">simtime_t beaconInterval</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00152">DemoBaseApplLayer.h:152</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a2fa1ce104879707982364a13525dd20c"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a2fa1ce104879707982364a13525dd20c">veins::DemoBaseApplLayer::curPosition</a></div><div class="ttdeci">Coord curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00167">DemoBaseApplLayer.h:167</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a384db2de57cd12b3b5bab48f255bcea7"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a384db2de57cd12b3b5bab48f255bcea7">veins::DemoBaseApplLayer::handlePositionUpdate</a></div><div class="ttdeci">virtual void handlePositionUpdate(cObject *obj)</div><div class="ttdoc">this function is called every time the vehicle receives a position update signal</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00194">DemoBaseApplLayer.cc:194</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a4288b81a3cdf4c5dad6b1abd99b6e2c6"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a4288b81a3cdf4c5dad6b1abd99b6e2c6">veins::DemoBaseApplLayer::onWSA</a></div><div class="ttdeci">virtual void onWSA(DemoServiceAdvertisment *wsa)</div><div class="ttdoc">this function is called upon receiving a DemoServiceAdvertisement</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00089">DemoBaseApplLayer.h:89</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a4f526c86ab3d432e620b5de9927274b8"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a4f526c86ab3d432e620b5de9927274b8">veins::DemoBaseApplLayer::annotations</a></div><div class="ttdeci">AnnotationManager * annotations</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00143">DemoBaseApplLayer.h:143</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a5947c4a8f447af7aff327cde07d64308"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a5947c4a8f447af7aff327cde07d64308">veins::DemoBaseApplLayer::isParked</a></div><div class="ttdeci">bool isParked</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00147">DemoBaseApplLayer.h:147</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a59d83e257a9f18f9af061d2e3bbe0440"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a59d83e257a9f18f9af061d2e3bbe0440">veins::DemoBaseApplLayer::computeAsynchronousSendingTime</a></div><div class="ttdeci">virtual simtime_t computeAsynchronousSendingTime(simtime_t interval, ChannelType chantype)</div><div class="ttdoc">compute a point in time that is guaranteed to be in the correct channel interval plus a random offset</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00112">DemoBaseApplLayer.cc:112</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a602336c04c91a87bd2d1ad5edafd5265"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a602336c04c91a87bd2d1ad5edafd5265">veins::DemoBaseApplLayer::generatedBSMs</a></div><div class="ttdeci">uint32_t generatedBSMs</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00175">DemoBaseApplLayer.h:175</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a63775a58d8e863d0ec87f7993b313d73"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a63775a58d8e863d0ec87f7993b313d73">veins::DemoBaseApplLayer::traciVehicle</a></div><div class="ttdeci">TraCICommandInterface::Vehicle * traciVehicle</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00141">DemoBaseApplLayer.h:141</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a6ace8c13e49e5d21d03e0c19aa19c607"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a6ace8c13e49e5d21d03e0c19aa19c607">veins::DemoBaseApplLayer::dataUserPriority</a></div><div class="ttdeci">uint32_t dataUserPriority</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00157">DemoBaseApplLayer.h:157</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a6d61f40c578e82777003c41fe23a3e49"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a6d61f40c578e82777003c41fe23a3e49">veins::DemoBaseApplLayer::beaconUserPriority</a></div><div class="ttdeci">uint32_t beaconUserPriority</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00151">DemoBaseApplLayer.h:151</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a784ecec0121113f39511d5f83a5287d4"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a784ecec0121113f39511d5f83a5287d4">veins::DemoBaseApplLayer::currentServiceDescription</a></div><div class="ttdeci">std::string currentServiceDescription</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00162">DemoBaseApplLayer.h:162</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a7866c2e197f24c3f7e81decd5261d28b"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a7866c2e197f24c3f7e81decd5261d28b">veins::DemoBaseApplLayer::sendBeacons</a></div><div class="ttdeci">bool sendBeacons</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00153">DemoBaseApplLayer.h:153</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a82f0f97fea0cea96f3a4a176c1d6ec32"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a82f0f97fea0cea96f3a4a176c1d6ec32">veins::DemoBaseApplLayer::currentOfferedServiceId</a></div><div class="ttdeci">int currentOfferedServiceId</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00161">DemoBaseApplLayer.h:161</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a854e4fec077209a3cc63115f70584c55"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a854e4fec077209a3cc63115f70584c55">veins::DemoBaseApplLayer::traci</a></div><div class="ttdeci">TraCICommandInterface * traci</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00140">DemoBaseApplLayer.h:140</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a92eee52f9f934fa6118dbad5422f4269"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a92eee52f9f934fa6118dbad5422f4269">veins::DemoBaseApplLayer::checkAndTrackPacket</a></div><div class="ttdeci">virtual void checkAndTrackPacket(cMessage *msg)</div><div class="ttdoc">helper function for error handling and stats recording purposes</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00304">DemoBaseApplLayer.cc:304</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a950278bac8ae9a57bbf8d052f3d72740"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a950278bac8ae9a57bbf8d052f3d72740">veins::DemoBaseApplLayer::startService</a></div><div class="ttdeci">virtual void startService(Channel channel, int serviceId, std::string serviceDescription)</div><div class="ttdoc">This will start the periodic advertising of the new service on the CCH.</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00271">DemoBaseApplLayer.cc:271</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_a9edf00f009a5e15f1b74d9f480f7582e"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#a9edf00f009a5e15f1b74d9f480f7582e">veins::DemoBaseApplLayer::dataLengthBits</a></div><div class="ttdeci">uint32_t dataLengthBits</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00156">DemoBaseApplLayer.h:156</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_aa5007dab9b355e3e4053fb9f6a59a9c8"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#aa5007dab9b355e3e4053fb9f6a59a9c8">veins::DemoBaseApplLayer::mobility</a></div><div class="ttdeci">TraCIMobility * mobility</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00139">DemoBaseApplLayer.h:139</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_aafaceefbff2a06f20babee4c0ff9abbc"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#aafaceefbff2a06f20babee4c0ff9abbc">veins::DemoBaseApplLayer::generatedWSAs</a></div><div class="ttdeci">uint32_t generatedWSAs</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00174">DemoBaseApplLayer.h:174</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_ab5cc9db685df1f2f180359af47a3140c"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#ab5cc9db685df1f2f180359af47a3140c">veins::DemoBaseApplLayer::handleParkingUpdate</a></div><div class="ttdeci">virtual void handleParkingUpdate(cObject *obj)</div><div class="ttdoc">this function is called every time the vehicle parks or starts moving again</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00201">DemoBaseApplLayer.cc:201</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_ab9efce899a1de4e1ca3c9f6a4c41516fa5f9b601653c32eeb69aed9c18ed722d1"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#ab9efce899a1de4e1ca3c9f6a4c41516fa5f9b601653c32eeb69aed9c18ed722d1">veins::DemoBaseApplLayer::SEND_BEACON_EVT</a></div><div class="ttdeci">@ SEND_BEACON_EVT</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00068">DemoBaseApplLayer.h:68</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_ab9efce899a1de4e1ca3c9f6a4c41516faf4904fd3be5458af22d3bb82df2e04e8"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#ab9efce899a1de4e1ca3c9f6a4c41516faf4904fd3be5458af22d3bb82df2e04e8">veins::DemoBaseApplLayer::SEND_WSA_EVT</a></div><div class="ttdeci">@ SEND_WSA_EVT</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00070">DemoBaseApplLayer.h:69</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_ac473178d13013063c13943d343a672f4"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#ac473178d13013063c13943d343a672f4">veins::DemoBaseApplLayer::sendDown</a></div><div class="ttdeci">virtual void sendDown(cMessage *msg)</div><div class="ttdoc">overloaded for error handling and stats recording purposes</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00292">DemoBaseApplLayer.cc:292</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_ac649666b5e8cb94740dd8a4588776e27"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#ac649666b5e8cb94740dd8a4588776e27">veins::DemoBaseApplLayer::sendDelayedDown</a></div><div class="ttdeci">virtual void sendDelayedDown(cMessage *msg, simtime_t delay)</div><div class="ttdoc">overloaded for error handling and stats recording purposes</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00298">DemoBaseApplLayer.cc:298</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_acca47f0d4a756e78ca29d2e4271af396"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#acca47f0d4a756e78ca29d2e4271af396">veins::DemoBaseApplLayer::initialize</a></div><div class="ttdeci">void initialize(int stage) override</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00027">DemoBaseApplLayer.cc:27</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_acf0b4977efacc25c723cc44a938ee0f9"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#acf0b4977efacc25c723cc44a938ee0f9">veins::DemoBaseApplLayer::receiveSignal</a></div><div class="ttdeci">void receiveSignal(cComponent *source, simsignal_t signalID, cObject *obj, cObject *details) override</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00183">DemoBaseApplLayer.cc:183</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_ad0eff098a3ba5b59267839a8e59ce8c3"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#ad0eff098a3ba5b59267839a8e59ce8c3">veins::DemoBaseApplLayer::sendWSAEvt</a></div><div class="ttdeci">cMessage * sendWSAEvt</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00182">DemoBaseApplLayer.h:182</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_adaae310c2a0cbed58859b93251f64646"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#adaae310c2a0cbed58859b93251f64646">veins::DemoBaseApplLayer::dataOnSch</a></div><div class="ttdeci">bool dataOnSch</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00158">DemoBaseApplLayer.h:158</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_ae6bb59969ae9756d6efaf494c33a201e"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#ae6bb59969ae9756d6efaf494c33a201e">veins::DemoBaseApplLayer::myId</a></div><div class="ttdeci">LAddress::L2Type myId</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00169">DemoBaseApplLayer.h:169</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_ae87d3a13dfd916a8abcc7b269ce0fbbe"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#ae87d3a13dfd916a8abcc7b269ce0fbbe">veins::DemoBaseApplLayer::stopService</a></div><div class="ttdeci">virtual void stopService()</div><div class="ttdoc">stopping the service and advertising for it</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00286">DemoBaseApplLayer.cc:286</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_aec3c66232b9ca518c76021c8f2f1dc40"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#aec3c66232b9ca518c76021c8f2f1dc40">veins::DemoBaseApplLayer::handleSelfMsg</a></div><div class="ttdeci">void handleSelfMsg(cMessage *msg) override</div><div class="ttdoc">handle self messages</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00228">DemoBaseApplLayer.cc:228</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_aecfff5ce1d91dcdb319272042375e6b2"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#aecfff5ce1d91dcdb319272042375e6b2">veins::DemoBaseApplLayer::populateWSM</a></div><div class="ttdeci">virtual void populateWSM(BaseFrame1609_4 *wsm, LAddress::L2Type rcvId=LAddress::L2BROADCAST(), int serial=0)</div><div class="ttdoc">sets all the necessary fields in the WSM, BSM, or WSA.</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00154">DemoBaseApplLayer.cc:154</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_af3ebab1d965f23077810d112a47cae98"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#af3ebab1d965f23077810d112a47cae98">veins::DemoBaseApplLayer::finish</a></div><div class="ttdeci">void finish() override</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8cc_source.html#l00252">DemoBaseApplLayer.cc:252</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_af4cb7a5451ffc4fbf47095dd228d3527"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#af4cb7a5451ffc4fbf47095dd228d3527">veins::DemoBaseApplLayer::sendBeaconEvt</a></div><div class="ttdeci">cMessage * sendBeaconEvt</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00181">DemoBaseApplLayer.h:181</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_afadc226a1018a9e973207851df1e4754"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#afadc226a1018a9e973207851df1e4754">veins::DemoBaseApplLayer::receivedWSAs</a></div><div class="ttdeci">uint32_t receivedWSAs</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00177">DemoBaseApplLayer.h:177</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_html_afb4ada150c65919b1770abdef7985419"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer.html#afb4ada150c65919b1770abdef7985419">veins::DemoBaseApplLayer::beaconLengthBits</a></div><div class="ttdeci">uint32_t beaconLengthBits</div><div class="ttdef"><b>Definition:</b> <a href="_demo_base_appl_layer_8h_source.html#l00150">DemoBaseApplLayer.h:150</a></div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_to_mac1609__4_interface_html_a3f9d9623e60f56b3c0c15669b4df53a6"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#a3f9d9623e60f56b3c0c15669b4df53a6">veins::DemoBaseApplLayerToMac1609_4Interface::isChannelSwitchingActive</a></div><div class="ttdeci">virtual bool isChannelSwitchingActive()=0</div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_to_mac1609__4_interface_html_a43aee47e5687617af50e5919c26542a9"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#a43aee47e5687617af50e5919c26542a9">veins::DemoBaseApplLayerToMac1609_4Interface::isCurrentChannelCCH</a></div><div class="ttdeci">virtual bool isCurrentChannelCCH()=0</div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_to_mac1609__4_interface_html_a73bf2fa8eced9dc5a97ec5566f29f6f6"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#a73bf2fa8eced9dc5a97ec5566f29f6f6">veins::DemoBaseApplLayerToMac1609_4Interface::changeServiceChannel</a></div><div class="ttdeci">virtual void changeServiceChannel(Channel channelNumber)=0</div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_to_mac1609__4_interface_html_a778c4d8707cdb821a2f388b786493905"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#a778c4d8707cdb821a2f388b786493905">veins::DemoBaseApplLayerToMac1609_4Interface::getMACAddress</a></div><div class="ttdeci">virtual const LAddress::L2Type &amp; getMACAddress()=0</div><div class="ttdoc">Returns the MAC address of this MAC module.</div></div>
<div class="ttc" id="aclassveins_1_1_demo_base_appl_layer_to_mac1609__4_interface_html_aac07f54c6e7d52a40b16b560638f2ce8"><div class="ttname"><a href="classveins_1_1_demo_base_appl_layer_to_mac1609__4_interface.html#aac07f54c6e7d52a40b16b560638f2ce8">veins::DemoBaseApplLayerToMac1609_4Interface::getSwitchingInterval</a></div><div class="ttdeci">virtual simtime_t getSwitchingInterval()=0</div></div>
<div class="ttc" id="aclassveins_1_1_find_module_html"><div class="ttname"><a href="classveins_1_1_find_module.html">veins::FindModule</a></div><div class="ttdoc">Provides method templates to find omnet modules.</div><div class="ttdef"><b>Definition:</b> <a href="_find_module_8h_source.html#l00038">FindModule.h:38</a></div></div>
<div class="ttc" id="aclassveins_1_1_find_module_html_a56591278058cab17db4d776cfde387a5"><div class="ttname"><a href="classveins_1_1_find_module.html#a56591278058cab17db4d776cfde387a5">veins::FindModule::findSubModule</a></div><div class="ttdeci">static T findSubModule(const cModule *const top)</div><div class="ttdoc">Returns a pointer to a sub module of the passed module with the type of this template.</div><div class="ttdef"><b>Definition:</b> <a href="_find_module_8h_source.html#l00046">FindModule.h:46</a></div></div>
<div class="ttc" id="aclassveins_1_1_l_address_html_a550dbf0446d9afe2fe5797c01f9a4049"><div class="ttname"><a href="classveins_1_1_l_address.html#a550dbf0446d9afe2fe5797c01f9a4049">veins::LAddress::L2Type</a></div><div class="ttdeci">long L2Type</div><div class="ttdoc">Type definition for a L2 (MAC) address.</div><div class="ttdef"><b>Definition:</b> <a href="_simple_address_8h_source.html#l00048">SimpleAddress.h:48</a></div></div>
<div class="ttc" id="aclassveins_1_1_tra_c_i_mobility_access_html"><div class="ttname"><a href="classveins_1_1_tra_c_i_mobility_access.html">veins::TraCIMobilityAccess</a></div><div class="ttdef"><b>Definition:</b> <a href="_tra_c_i_mobility_8h_source.html#l00222">TraCIMobility.h:222</a></div></div>
<div class="ttc" id="aclassveins_1_1_tra_c_i_mobility_access_html_a3a9a7cb34fa5b8bd351a61bfe783dc52"><div class="ttname"><a href="classveins_1_1_tra_c_i_mobility_access.html#a3a9a7cb34fa5b8bd351a61bfe783dc52">veins::TraCIMobilityAccess::get</a></div><div class="ttdeci">TraCIMobility * get(cModule *host)</div><div class="ttdef"><b>Definition:</b> <a href="_tra_c_i_mobility_8h_source.html#l00224">TraCIMobility.h:224</a></div></div>
<div class="ttc" id="aclassveins_1_1_tra_c_i_mobility_html_a65e65af2ffd59fdddc841ab7c5a383c7"><div class="ttname"><a href="classveins_1_1_tra_c_i_mobility.html#a65e65af2ffd59fdddc841ab7c5a383c7">veins::TraCIMobility::getCommandInterface</a></div><div class="ttdeci">virtual TraCICommandInterface * getCommandInterface() const</div><div class="ttdef"><b>Definition:</b> <a href="_tra_c_i_mobility_8h_source.html#l00146">TraCIMobility.h:146</a></div></div>
<div class="ttc" id="aclassveins_1_1_tra_c_i_mobility_html_a6eab92e98c45232e1c0d0b32aec2f127"><div class="ttname"><a href="classveins_1_1_tra_c_i_mobility.html#a6eab92e98c45232e1c0d0b32aec2f127">veins::TraCIMobility::getVehicleCommandInterface</a></div><div class="ttdeci">virtual TraCICommandInterface::Vehicle * getVehicleCommandInterface() const</div><div class="ttdef"><b>Definition:</b> <a href="_tra_c_i_mobility_8h_source.html#l00151">TraCIMobility.h:151</a></div></div>
<div class="ttc" id="aclassveins_1_1_tra_c_i_mobility_html_ad6be6b3f578a4402f4f7dfefe0b89d31"><div class="ttname"><a href="classveins_1_1_tra_c_i_mobility.html#ad6be6b3f578a4402f4f7dfefe0b89d31">veins::TraCIMobility::getCurrentSpeed</a></div><div class="ttdeci">Coord getCurrentSpeed() const override</div><div class="ttdoc">Calling this method on pointers of type TraCIMobility is deprecated in favor of calling either getHos...</div><div class="ttdef"><b>Definition:</b> <a href="_tra_c_i_mobility_8h_source.html#l00216">TraCIMobility.h:216</a></div></div>
<div class="ttc" id="aclassveins_1_1_tra_c_i_mobility_html_aedb0d434725c9a1f5363a1f2409f6d2a"><div class="ttname"><a href="classveins_1_1_tra_c_i_mobility.html#aedb0d434725c9a1f5363a1f2409f6d2a">veins::TraCIMobility::getParkingState</a></div><div class="ttdeci">virtual bool getParkingState() const</div><div class="ttdef"><b>Definition:</b> <a href="_tra_c_i_mobility_8h_source.html#l00114">TraCIMobility.h:114</a></div></div>
<div class="ttc" id="aclassveins_1_1_tra_c_i_mobility_html_afb8947869442c29e538fb9111df5eb3c"><div class="ttname"><a href="classveins_1_1_tra_c_i_mobility.html#afb8947869442c29e538fb9111df5eb3c">veins::TraCIMobility::parkingStateChangedSignal</a></div><div class="ttdeci">static const simsignal_t parkingStateChangedSignal</div><div class="ttdef"><b>Definition:</b> <a href="_tra_c_i_mobility_8h_source.html#l00078">TraCIMobility.h:78</a></div></div>
<div class="ttc" id="anamespaceveins_html"><div class="ttname"><a href="namespaceveins.html">veins</a></div><div class="ttdoc">Veins - The open source vehicular network simulation framework.</div><div class="ttdef"><b>Definition:</b> <a href="_base_connection_manager_8h_source.html#l00033">BaseConnectionManager.h:33</a></div></div>
<div class="ttc" id="anamespaceveins_html_a04ab2e3513c72a990fe9f96ae42d9e9a"><div class="ttname"><a href="namespaceveins.html#a04ab2e3513c72a990fe9f96ae42d9e9a">veins::ChannelType</a></div><div class="ttdeci">ChannelType</div><div class="ttdef"><b>Definition:</b> <a href="_consts80211p_8h_source.html#l00164">Consts80211p.h:164</a></div></div>
<div class="ttc" id="anamespaceveins_html_a04ab2e3513c72a990fe9f96ae42d9e9aaaaabf0d39951f3e6c3e8a7911df524c2"><div class="ttname"><a href="namespaceveins.html#a04ab2e3513c72a990fe9f96ae42d9e9aaaaabf0d39951f3e6c3e8a7911df524c2">veins::ChannelType::service</a></div><div class="ttdeci">@ service</div></div>
<div class="ttc" id="anamespaceveins_html_a04ab2e3513c72a990fe9f96ae42d9e9aafc5364bf9dbfa34954526becad136d4b"><div class="ttname"><a href="namespaceveins.html#a04ab2e3513c72a990fe9f96ae42d9e9aafc5364bf9dbfa34954526becad136d4b">veins::ChannelType::control</a></div><div class="ttdeci">@ control</div></div>
<div class="ttc" id="anamespaceveins_html_a241b63592930794cb29608c80e737b1c"><div class="ttname"><a href="namespaceveins.html#a241b63592930794cb29608c80e737b1c">veins::Channel</a></div><div class="ttdeci">Channel</div><div class="ttdoc">Channels as reserved by the FCC.</div><div class="ttdef"><b>Definition:</b> <a href="_consts80211p_8h_source.html#l00139">Consts80211p.h:139</a></div></div>
<div class="ttc" id="anamespaceveins_html_a241b63592930794cb29608c80e737b1ca64f5e67ed2b90b1bb9084c7e755bbd7b"><div class="ttname"><a href="namespaceveins.html#a241b63592930794cb29608c80e737b1ca64f5e67ed2b90b1bb9084c7e755bbd7b">veins::Channel::cch</a></div><div class="ttdeci">@ cch</div></div>
<div class="ttc" id="anamespaceveins_html_a241b63592930794cb29608c80e737b1cabe2b832062b96b611d69ca99cb257938"><div class="ttname"><a href="namespaceveins.html#a241b63592930794cb29608c80e737b1cabe2b832062b96b611d69ca99cb257938">veins::Channel::sch1</a></div><div class="ttdeci">@ sch1</div></div>
<div class="ttc" id="anamespaceveins_html_aab6dc29dc16d0393e914dc30ddbbb5a7"><div class="ttname"><a href="namespaceveins.html#aab6dc29dc16d0393e914dc30ddbbb5a7">veins::ChannelMobilityPtrType</a></div><div class="ttdeci">ChannelMobilityAccessType::wrapType * ChannelMobilityPtrType</div><div class="ttdef"><b>Definition:</b> <a href="_channel_access_8h_source.html#l00044">ChannelAccess.h:44</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_17ef6c0fecec40d654af52c879dcf6bd.html">veins</a></li><li class="navelem"><a class="el" href="dir_9a350b5a4b1db77a4c811625b6e998c8.html">modules</a></li><li class="navelem"><a class="el" href="dir_8c62ac428a85dd6600311d6afcb1a45e.html">application</a></li><li class="navelem"><a class="el" href="dir_200622b5799608f78cee6f2d1aa85127.html">ieee80211p</a></li><li class="navelem"><a class="el" href="_demo_base_appl_layer_8cc.html">DemoBaseApplLayer.cc</a></li>
    <li class="footer">Generated on Mon Dec 6 2021 21:13:16 for Veins by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
